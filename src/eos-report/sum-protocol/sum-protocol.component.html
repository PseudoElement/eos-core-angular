<div class="sum-protocol">
    <div>
        <label class="checkbox minus-checkbox">
            <input type="checkbox" [checked]="logUsers" (click)="CheckProtocol()">
            <span class="eos-icon eos-icon-checkbox-black"></span>
            Протоколирование работы со справочником 'Пользователи'</label>
    </div>
    <div class="sum-report-wrapper">
        <div class="table-wrapper usual-border">
            <div class="sum-report-list">
                <div class="table-header">
                    <div class="table-sum-wraper">
                        <div class="selected-sum-title">
                            <span class="long-title xl-font">Сводный протокол</span>
                        </div>
                        <div class="item-count-sum usual-border m-font">
                            <span class="item-count-content-sum">
                                    Записей:
                                <span class="counter-sum">{{config?.itemsQty}}</span>
                            </span>
                        </div>
                    </div>
                </div>
                <div class="table-header header-pos-sum">
                    <div class="btn-group-sum">
                        <div containerClass="view-protocol" placement="bottom" container="body" class="cust-style-mod">
                            <button class="btn btn-primary-light bth-size-sum" tooltip="Просмотреть" (click)="ShowDataUser()"
                                placement="bottom" container="body" containerClass="tooltip-info">
                                <span class="eos-icon eos-icon-edit-blue small"></span>
                            </button>
                        </div>
                        <div containerClass="view-protocol" placement="bottom" container="body" class="cust-style-mod">
                            <button class="btn btn-primary-light bth-size-sum" tooltip="Удалить" (click)="DeleteEventUser()"
                                placement="bottom" container="body" containerClass="tooltip-info">
                                <span class="eos-icon eos-icon-bin-forever-blue small"></span>
                            </button>
                        </div>
                    </div>
                    <eos-filter-protocol (filterProtocol)="filterProtocol($event)"></eos-filter-protocol>
                </div>
                <div class="table-header">
                    <div class="table-title contain-span-header">
                        <div class="check-sum mar-check">
                            <label class="checkbox">
                                <input [checked]="flagChecked" type="checkbox" (change)="toggleAllMarks($event)">
                                <div>
                                    <span class="eos-icon small" [ngClass]="getflagChecked"></span>
                                </div>
                            </label>
                        </div>
                        <span class=" width-title1 likeLink-sum">
                            Дата
                        </span>
                        <span class=" width-title2 likeLink-sum">
                            Событие
                        </span>
                        <span class=" width-title3 likeLink-sum">
                            Редактировал
                        </span>
                        <span class=" likeLink-sum width-title3">
                            Пользователя
                        </span>
                    </div>
                </div>
                <div class="user-item sum-list-prot">
                    <div *ngFor="let user of frontData; let i = index ">
                        <div class="contain-span-header"  [ngClass]="{'highlighted': user.checked === true}">
                            <div class="check-sum">
                                <label class="checkbox minus-checkbox">
                                    <input type="checkbox" [checked]="user.checked || flagChecked" [ngModel]="user.checked" (ngModelChange)="markNode($event,user)" (click)="CheckUser(user)">
                                    <span class="eos-icon eos-icon-checkbox-black"></span>
                                </label>
                            </div>
                            <span class="item-table width-title1"  (click)="SingleUserCheck(user)">
                                {{user.date}}
                            </span>
                            <span class=" item-table width-title2"  (click)="SingleUserCheck(user)">
                                <div class="">
                                    {{user.eventUser}}
                                </div>
                            </span>
                            <span class="item-table width-title3"  (click)="SingleUserCheck(user)">
                                <div class="">
                                    {{user.isnWho}}
                                </div>
                            </span>
                            <span class="item-table width-title3"  (click)="SingleUserCheck(user)">
                                <div class="">
                                    {{user.isnUser}}
                                </div>
                            </span>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
    <div class="pagination-option l-font"
        >
        <div class="pagination">
            <button class="pag-btn btn-default prev"
            [disabled]="config?.current === 1"
            (click)="showPage(config.current - 1)"
            >
                <span class="icon-btn eos-icon eos-icon-arrow-v-blue-left small to-left"></span>
            </button>
            <div *ngIf="pages.length !== 0">
                <button  [ngClass]="{'btn-primary-full': config.current === page}" *ngFor="let page of pages let i = index" class="pag-btn btn-default selected-text" (click)="showPage(page)">{{page}}</button>
            </div>
            <div *ngIf="pages.length === 0">
                <button class="pag-btn btn-default btn-primary-full selected-text">1</button>
            </div>
            <button class="pag-btn btn-default next"  (click)="showPage(config.current + 1)" [disabled]="config?.current*config?.length >= config?.itemsQty">
                <span class="icon-btn eos-icon eos-icon-arrow-v-blue-left small to-rigth"></span>
            </button>
        </div>

        <button class="btn show-more selected-text" 
            (click)="showMore()"
            [disabled]="config?.current*config?.length >= config?.itemsQty" 
            >Показать еще</button>
             
        <div dropdown
            placement="top right"
            dropup="true"
            #dd="bs-dropdown"
            class="show-by">
            <button type="button"
                dropdownToggle
                class="drop-btn btn btn-transparent selected-text"
                style="height: 48px; width: 336px;">
                <span>Показывать по {{config?.length}}</span>
                <div class="arrow">
                    <span class="icon-btn eos-icon small"
                      ></span>
                </div>
            </button>
            <ul *dropdownMenu
                class="dropdown-menu dropdown-menu-right"
                role="menu">
                <li role="menuitem"
                    *ngFor="let item of pageLengths"
                    (click)="setPageLength(item.value)"
                    class="menuitem">
                    <a class="dropdown-item text-center">
                        <span class="l-font">Показывать по {{item.title}}</span>
                    </a>
                </li>
            </ul>
        </div>
    </div>
</div>