<div class="base-param__wrapper" *ngIf="!isLoading">
    <eos-user-header
        [title]="title"
        [statusBtnSub]="stateHeaderSubmit"
        [isDefault]="false"
        (submitForm)="submit()"
        (cancelForm)="cancel()"
    ></eos-user-header>
    <div class="base-param__main">
        <!-- Логин и Аутентификация с помощью ОС -->
        <div class="base-param__row flex-end">
            <eos-dynamic-input
                [input]="inputs['CLASSIF_NAME']"
                [form]="form"
                [readonly]="false"
            ></eos-dynamic-input>
            <eos-dynamic-input
                [input]="inputs['USERTYPE']"
                [form]="form"
                [readonly]="false"
                class="mt-ceck"
            ></eos-dynamic-input>
        </div>
        <!-- Дата смены пароля и поля для пароля -->
        <div class="base-param__row flex-space-between">
            <eos-dynamic-input
                [input]="inputs['PASSWORD_DATE']"
                [form]="form"
                [readonly]="inputs['PASSWORD_DATE'].readonly"
            ></eos-dynamic-input>

            <div [formGroup]="formControls"
                class="dynamic-input-wrapper">
                <label [hidden]="controls['pass'].hideLabel"
                    [attr.for]="controls['pass'].key">{{controls['pass'].label}}</label>
                <div [ngClass]="{'required': controls['pass'].required}">
                <input class="form-control m-font"
                    [formControlName]="controls['pass'].key"
                    [id]="controls['pass'].key"
                    type="text"
                    [readonly]="controls['pass'].readonly"
                    [ngClass]="{'readonly': readonly}"
                    [placeholder]="controls['pass'].label"
                    autocomplete="off">
                </div>
            </div>

            <div [formGroup]="formControls"
                class="dynamic-input-wrapper">
                <label [hidden]="controls['passRepeated'].hideLabel"
                    [attr.for]="controls['passRepeated'].key">{{controls['passRepeated'].label}}</label>
                <div [ngClass]="{'required': controls['passRepeated'].required}">
                <input class="form-control m-font"
                    [formControlName]="controls['passRepeated'].key"
                    [id]="controls['passRepeated'].key"
                    type="text"
                    [readonly]="controls['passRepeated'].readonly"
                    [ngClass]="{'readonly': readonly}"
                    [placeholder]="controls['passRepeated'].label"
                    autocomplete="off">
                </div>
            </div>

        </div>
        <!-- технический пользователь, должностное лицо и роль -->
        <div class="base-param__row flex-space-between">
            <eos-dynamic-input
                [input]="controls['teсhUser']"
                [form]="formControls"
                [readonly]="controls['teсhUser'].readonly"
                class="mt-ceck"
                tooltip="к техническим пользователям невозможно привязать должностное лицо"
                placement="bottom"
                containerClass="tooltip-info"
            ></eos-dynamic-input>

            <div [formGroup]="form"
                class="dynamic-input-wrapper">
                <label [hidden]="inputs['DUE_DEP_NAME'].hideLabel"
                    [attr.for]="inputs['DUE_DEP_NAME'].key">{{inputs['DUE_DEP_NAME'].label}}</label>
                <div [ngClass]="{'required': inputs['DUE_DEP_NAME'].required}" style="width: 300px">
                <input class="form-control m-font inline-block"
                    style="width: 270px; cursor: default;"
                    readonly
                    [formControlName]="inputs['DUE_DEP_NAME'].key"
                    [id]="inputs['DUE_DEP_NAME'].key"
                    type="text"
                    [ngClass]="{'readonly': readonly}"
                    [placeholder]="inputs['DUE_DEP_NAME'].label"
                    autocomplete="off">
                    <span class="icon eos-icon small"
                        [ngClass]="{'eos-icon-avatar-blue': form.get('DUE_DEP_NAME').enabled, 'eos-icon-avatar-grey': form.get('DUE_DEP_NAME').disabled}"
                        (click)="selectDepartment(form.get('DUE_DEP_NAME').enabled)"
                    ></span>
                </div>
            </div>

            <eos-dynamic-input
                [input]="controls['SELECT_ROLE']"
                [form]="formControls"
                [readonly]="formControls.get('SELECT_ROLE').disabled"
            ></eos-dynamic-input>
        </div>
        <!-- Примечания -->
        <div class="base-param__row">
            <eos-dynamic-input
                [input]="inputs['NOTE2']"
                [form]="form"
                [readonly]="inputs['NOTE2'].readonly"
                style="width: 100%"
            ></eos-dynamic-input>
        </div>
        <span class="l-font">Доступ к системам</span> <!-- Доступ к системам -->
        <hr>
        <div class="base-param__row flex-space-between">
            <eos-dynamic-input
                [input]="accessInputs['0']"
                [form]="formAccess"
                [readonly]="formAccess.get('0').disabled"
            ></eos-dynamic-input>
            <eos-dynamic-input
                [input]="accessInputs['0-1']"
                [form]="formAccess"
                [readonly]="formAccess.get('0-1').disabled"
            ></eos-dynamic-input>
            <eos-dynamic-input
                [input]="controls['delo_web']"
                [form]="formControls"
                [readonly]="formControls.get('delo_web').disabled"
            ></eos-dynamic-input>
            <eos-dynamic-input
                [input]="accessInputs['1-27']"
                [form]="formAccess"
                [readonly]="formAccess.get('1-27').disabled"
            ></eos-dynamic-input>
        </div>
        <hr>
        <div class="base-param__row flex-space-between">
            <eos-dynamic-input
                [input]="accessInputs['26']"
                [form]="formAccess"
                [readonly]="formAccess.get('26').disabled"
            ></eos-dynamic-input>
            <eos-dynamic-input
                [input]="accessInputs['2']"
                [form]="formAccess"
                [readonly]="formAccess.get('2').disabled"
            ></eos-dynamic-input>
            <eos-dynamic-input
                [input]="accessInputs['16']"
                [form]="formAccess"
                [readonly]="formAccess.get('16').disabled"
            ></eos-dynamic-input>
        </div>
        <div class="base-param__row flex-space-between">
            <eos-dynamic-input
                [input]="accessInputs['23']"
                [form]="formAccess"
                [readonly]="formAccess.get('23').disabled"
            ></eos-dynamic-input>
            <eos-dynamic-input
                [input]="accessInputs['3']"
                [form]="formAccess"
                [readonly]="formAccess.get('3').disabled"
            ></eos-dynamic-input>
            <eos-dynamic-input
                [input]="accessInputs['5']"
                [form]="formAccess"
                [readonly]="formAccess.get('5').disabled"
            ></eos-dynamic-input>
        </div>
        <div class="base-param__row flex-space-between">
            <eos-dynamic-input
                [input]="accessInputs['25']"
                [form]="formAccess"
                [readonly]="formAccess.get('25').disabled"
            ></eos-dynamic-input>
            <eos-dynamic-input
                [input]="accessInputs['15']"
                [form]="formAccess"
                [readonly]="formAccess.get('15').disabled"
            ></eos-dynamic-input>
            <eos-dynamic-input
                [input]="accessInputs['21']"
                [form]="formAccess"
                [readonly]="formAccess.get('21').disabled"
            ></eos-dynamic-input>
        </div>
        <div class="base-param__row flex-space-between">
            <eos-dynamic-input
                [input]="accessInputs['17']"
                [form]="formAccess"
                [readonly]="formAccess.get('17').disabled"
            ></eos-dynamic-input>
        </div>
    </div>
</div>

<div class="spinner-wrapper" *ngIf="isLoading">
    <eos-spinner [size]="'lg'"></eos-spinner>
</div>

<div *ngIf="isShell" class="shell"></div>
