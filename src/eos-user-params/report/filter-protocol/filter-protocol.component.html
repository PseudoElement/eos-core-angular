<div class="filter-comp">
    <div [popover]="searchModal" (onShown)="onShown()" containerClass="head-protocol filter" placement="left" container="body"
    [adaptivePosition]="false"
    class="cust-style-mod" #full="bs-popover">
        <button [ngClass]="{'opened': formBol}" class="btn btn-primary-light search-btn" tooltip="Расширенный поиск"
            placement="left" triggers="hover" container="body" (click)="isActiveButton()" containerClass="tooltip-info">
            <i [hidden]="formBol" class="eos-adm-icon eos-adm-icon-filter-blue small" aria-hidden="true"></i>
            <i [hidden]="!formBol" class="eos-adm-icon eos-adm-icon-filter-white small" aria-hidden="true"></i>
        </button>
    </div>
</div>
<ng-template #searchModal>
    <div class="full-search-top usual-border">
        <span class="pull-left title xl-font">Фильтр</span>
        <div class="pull-right srch-btns">
            <button class="btn btn-primary s-font upper" [disabled]="checkResetForm()" (click)="ClearForm()">Сбросить</button>
            <button class="btn btn-primary-full s-font upper" [disabled]="disableBtn" (click)="FilterUsers()">Найти</button>
        </div>
    </div>
    <div class="full-search-form-prot edit-content">
        <form id="reshen">
            <div class="cont-datepick">
                <eos-dynamic-input class="s-font" [input]="inputs['rec.DATEFROM']" [form]="filterForm"
                    [readonly]="false"></eos-dynamic-input>
                <eos-dynamic-input class="s-font" [placement]="'left'" [input]="inputs['rec.DATETO']" [form]="filterForm"
                    [readonly]="false"></eos-dynamic-input>
            </div>
            <eos-dynamic-input class="s-font" [input]="inputs['rec.USEREVENTS']" [form]="filterForm"
                [readonly]="false"></eos-dynamic-input>
            <div class="del-mar">
                <eos-dynamic-input
                    [tooltip]="userWhoValue"
                    #itemTooltip="bs-tooltip"
                    triggers="hover:click"
                    [delay]="tooltipDelay"
                    placement="bottom"
                    container="body"
                    containerClass="tooltip-info"
                    class="s-font"
                    [input]="inputs['rec.USERWHO']"
                    [form]="filterForm"
                    [readonly]="false"
                ></eos-dynamic-input>
                <a class="clear-btn pos-icon" (click)="selectUserWho()" [ngClass]="{'pos-two-icon': userWhoValue, 'pos-one-icon': !userWhoValue}">
                    <span class="icon eos-adm-icon eos-adm-icon-avatar-blue small icon-add-department"></span>
                </a>
                <a *ngIf="userWhoValue" class="clear-btn pos-icon pos-two-icon" (click)="clearInput('rec.USERWHO')">
                    <span class="icon eos-adm-icon eos-adm-icon-close-blue small"></span>
                </a>
            </div>
            <div>
                <eos-dynamic-input
                    [tooltip]="userEditValue"
                    #itemTooltip="bs-tooltip"
                    triggers="hover:click"
                    [delay]="tooltipDelay"
                    placement="bottom"
                    container="body"
                    containerClass="tooltip-info"
                    class="s-font"
                    [input]="inputs['rec.USEREDIT']"
                    class="s-font"
                    [form]="filterForm"
                    [readonly]="false"
                ></eos-dynamic-input>
                <a class="clear-btn pos-icon" (click)="selectUserEdit()" [ngClass]="{'pos-two-icon': userEditValue, 'pos-one-icon': !userEditValue}">
                    <span class="icon eos-adm-icon eos-adm-icon-avatar-blue small icon-add-department"></span>
                </a>
                <a *ngIf="userEditValue" class="clear-btn pos-icon pos-two-icon" (click)="clearInput('rec.USEREDIT')">
                    <span class="icon eos-adm-icon eos-adm-icon-close-blue small"></span>
                </a>
            </div>
        </form>
    </div>
</ng-template>
