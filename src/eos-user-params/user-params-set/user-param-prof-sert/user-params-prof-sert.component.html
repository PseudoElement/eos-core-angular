<div class="input-user-wrapper input-user-directories-wrapper">
    <eos-user-params-header [editMode]="editFlag" [title]='titleHeader' [disableBtn]="!btnDisabled" [defaultBtn]='false' (submitEmit)='submit($event)' (cancelEmit)='cancellation($event)' (editEmit)='edit($event)' (defaultEmit)='default($event)'></eos-user-params-header>
</div>

<div class="input-user-wrapper input-user-other-rk-forwarding-wrapper signature scrollWrapper">
    <!-- <div class="edit-bacground" *ngIf='!editFlag'></div> -->
    <div class=" ">
        <span class="sert-title">Добавить сертификат для подписания прикрепленных файлов</span>
        <hr>
        <div class="form-group flex-wr">
            <span class="new-sert-name">{{selectedFromAllList ? selectedFromAllList.whom : null  || 'сертификат не выбран'}}</span>
            <div class="">
                <button [disabled]="this.isCarma && !editFlag" placement="auto" class="btn btn-primary-light" container="body" tooltip='Выбрать сертификат' containerClass="tooltip-info" (click)='chooseSertificate()'>
                    <span class="eos-icon eos-icon-download small"></span>
                </button>
                <button [disabled]='this.isCarma && !editFlag' class="btn btn-primary-light" tooltip='Показать сертификат' container="body" placement="auto" triggers="hover:click" containerClass="tooltip-info" (click)='showSert(selectedFromAllList.id)'><span class="eos-icon eos-icon-info-blue small"></span></button>

                <button tooltip='Добавить сертификат' placement="auto" containerClass="tooltip-info" class="btn btn-primary-light" container="body" [disabled]='!selectedFromAllList || !editFlag' (click)='addSertificate(selectedFromAllList)'>
                    <span class="eos-icon eos-icon-plus-blue small"></span>
                </button>
            </div>
        </div>
    </div>
    <hr>
    <div class="scrollWrapper">
        <div class="sert-table">
            <div class="sert-table-nav">
                <div triggers="hover:click" [tooltip]="!editFlag ? '' : 'Показать сертификат'" placement="auto" containerClass="tooltip-info">
                    <button class="btn btn-primary-light" [disabled]="!listsSertInfo.length || flagHideBtn || !editFlag" (click)='showSert()'><span class="eos-icon eos-icon-info-blue small"></span></button>
                </div>
                <div [tooltip]="!editFlag ? '' : 'Удалить сертификат' " triggers="hover:click" placement="auto" containerClass="tooltip-info">
                    <button class="btn btn-primary-light" [disabled]="!listsSertInfo.length || flagHideBtn || !editFlag" (click)='deleteSertificate()'><span class="eos-icon eos-icon-bin-forever-blue small"></span></button></div>
            </div>
            <div class="sert-table-head">
                <span class="sert-table-whom">Кому выдан</span>
                <span class="sert-table-serial">Серийный номер</span>
                <span class="sert-table-who">Кем выдан</span>
            </div>
            <div class="sert-table-body">
                <div class="sert-table-content" *ngFor='let listSert of listsSertInfo'>
                    <div (click)="selectCurent(listSert)" [ngClass]="{selected: listSert.selected, grayItem: !editFlag, colorValid:  !listSert.valid}" class="sert-info-wr" *ngIf='!listSert.delete'>
                        <span tooltip="{{listSert.whom}}" placement="bottom" containerClass="tooltip-info" class="whom">{{listSert.whom}}</span>
                        <span tooltip="{{listSert.sn}}" placement="bottom" containerClass="tooltip-info" class="serial">{{listSert.sn}}</span>
                        <span tooltip="{{listSert.who}}" placement="bottom" containerClass="tooltip-info" class="who">{{listSert.who}}</span>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>
