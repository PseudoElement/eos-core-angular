<div class="list-user-select-wrapper">
    <div class="table-wrapper usual-border">
        <div class="table-header">
            <div class="table-header-wrapper">
                <div class="selected-node-title">
                        <span class="long-title xl-font">{{titleCurrentDue}}</span>
                </div>
                <div class="item-count usual-border m-font">
                    <span class="item-count-content">
                        Записей:
                        <span class="counter">{{countMaxSize}}</span>
                    </span>
                </div>
            </div>
        </div>
        <div class="table-header">
            <!-- header action -->
            <eos-btn-action [buttons]='buttons' (showAction)='showAction($event)'></eos-btn-action>
            <!-- <button
                class="btn"
                tooltip="Создать пользователя"
                [placement]="currentState[0] ? 'bottom' : 'right'"
                container="body"
                containerClass="tooltip-info"
                (click)="createUser()"
            >
                    <span class="eos-icon eos-icon-plus-blue small"></span>
            </button>
            <button
                class="btn"
                tooltip="Редактировать пользователя"
                [placement]="currentState[0] ? 'bottom' : 'right'"
                container="body"
                containerClass="tooltip-info"
                (click)="editUser()"
            >
                <span class="eos-icon eos-icon-edit-blue small"></span>
            </button>
            <button
                class="btn"
                tooltip="Удалить логически"
                [placement]="currentState[0] ? 'bottom' : 'right'"
                container="body"
                containerClass="tooltip-info"
                (click)="removeLogicaly()"
            >
                <span class="eos-icon eos-icon-bin-blue small"></span>
            </button>
            <button (click)="showDeep()">показать тех.польз</button> -->
        </div>
        <div class="table-header">
            <!-- header -->
            <div class="table-title">
                <label class="checkbox minus-checkbox">
                    <input  [checked]="flagChecked"  type="checkbox" (change)="setCheckedAllFlag()">
                    <span class="eos-icon eos-icon-checkbox-black"></span>
                </label>
                <span class="user-title-name user-list-first-colomn likeLink" (click)="sortPageList('department')">Подразделение
                    <span *ngIf ="srtConfig.department.checked" [ngClass]="getClassOrder(srtConfig.department.upDoun)"></span>
                </span>
                <span class="user-list-first-colomn likeLink"(click)="sortPageList('official')">Должностное лицо
                    <span *ngIf ="srtConfig.official.checked" [ngClass]="getClassOrder(srtConfig.official.upDoun)"></span>
                </span>
                <span class="user-list-third-colomn likeLink"(click)="sortPageList('tip')">Тип
                    <span *ngIf ="srtConfig.tip.checked" [ngClass]="getClassOrder(srtConfig.tip.upDoun)"></span>
                </span>
                <span class="user-list-fourth-colomn likeLink"(click)="sortPageList('login')">Логин
                    <span *ngIf ="srtConfig.login.checked" [ngClass]="getClassOrder(srtConfig.login.upDoun)"></span>
                </span>
            </div>
        </div>
        <div *ngIf="!isLoading; else spiner" class="eos-node-list">
            <div *ngIf="listUsers.length; else emptyCert"
                class="block"
                [ngStyle]="{'width.px': tableWidth}"
                #listContent>
                <div
                    *ngFor="let user of listUsers"
                    [ngClass]="{'highlighted': user.isSelected}"
                    (click)="selectedNode(user)"
                    (dblclick)="RedactUser(user)">
                    <!-- <label
                        class="checkbox-inline"
                        [tooltip]="user.marked ? markTemp : notMarkTemp"
                        containerClass="tooltip-info"
                        container="body"
                        (click)="checkboxClick($event)"
                        placement="bottom"
                    >
                        <input
                            type="checkbox"
                            [(ngModel)]="user.marked || user.selectedMark"
                            (ngModelChange)="markNode($event, user)"
                        >
                        <span></span>
                    </label> -->
                    <div class="table-title user-select-node"  [ngClass]="user.deleted ? 'disabled' : ''">
                        <label class="checkbox minus-checkbox">
                        <input  [checked]="user.isChecked" [disabled]="user.deleted ? true : false"  type="checkbox" (change)="setFlagChecked($event, user)">
                        <span class="eos-icon eos-icon-checkbox-black"></span>
                        </label>
                        <span
                        containerClass="tooltip-info"
                        class="user-list-first-colomn"
                        tooltip="{{user.department}}"
                        >{{user.department}}</span>
                        <span
                        class="user-list-first-colomn"
                        containerClass="tooltip-info"
                        tooltip="{{user.dueName}}"
                        >{{user.dueName}}</span>
                        <span class="user-list-third-colomn">
                            <span *ngIf="user.deleted" class="eos-icon eos-icon-bin-forever-grey small"></span>
                            <span *ngIf="user.blockedUser" class="eos-icon eos-icon-on-grey  small"></span>
                            <span *ngIf="user.blockedSystem" class="eos-icon eos-icon-off  small"></span>
                        </span>
                        <span class="user-list-fourth-colomn">{{user.login}}</span>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>
<!-- <ng-template #markAllTooltip>
    {{anyMarked ? 'Снять' : 'Пометить'}}<br/>{{anyMarked ? 'пометки': 'все'}}
</ng-template> -->

<ng-template #markTemp>Снять<br>пометку</ng-template>
<ng-template #notMarkTemp>Пометить<br>элемент</ng-template>
<ng-template #emptyCert>
    <h4 class="user-select-empty-list">Пользователи отсутствуют</h4>
</ng-template>
<ng-template #spiner>
        <eos-spinner size="lg"></eos-spinner>
</ng-template>


