<div class="eos-adm-dictionary-search">
    <div [popover]="searchModal"
        containerClass="full-search-popover"
        class="search-btn-wraper"
        placement="auto"
        [container]="'body'"
        [isOpen]="this.dictId === 'citizens'"
        #full="bs-popover"
        [outsideClick]="false"
    >
        <button [ngClass]="{'hidden': !hasFull, 'opened': isActiveButton()}"
            class="btn btn-primary-light search-btn"
            tooltip="Расширенный поиск"
            placement="bottom"
            [container]="'body'"
            containerClass="tooltip-info"
            (click)="autoFocus()">
            <i [hidden]="isActiveButton()" class="eos-adm-icon eos-adm-icon-filter-blue small" aria-hidden="true"></i>
            <i [hidden]="!isActiveButton()" class="eos-adm-icon eos-adm-icon-filter-white small" aria-hidden="true"></i>
        </button>
    </div>
    <div class="search-btn-wraper"
        tooltip="Быстрый поиск"
        placement="bottom"
        [delay]="tooltipDelay"
        container="body"
        [delay]="tooltipDelay"
        containerClass="tooltip-info"
        [isDisabled]="isQuickOpened">
        <button [ngClass]="{'hidden': !hasQuick, 'opened': isQuickOpened}"
            class="btn btn-primary-light search-btn quick-search-btn"
            containerClass="quick-search-popover"
            placement="left"
            (click)="showFastSrch()">
            <i class="eos-adm-icon small" aria-hidden="true"
                [ngClass]="{'eos-adm-icon-search-blue': !isQuickOpened, 'eos-adm-icon-search-white': isQuickOpened }"
            ></i>
        </button>
    </div>
</div>

<ng-template #searchModal>
    <div class="full-search-top usual-border">
        <span class="pull-left title xl-font">Область поиска</span>
        <div class="pull-right srch-btns">
            <button
                style="background: transparent;"
                class="btn btn-primary s-font upper"
                type="button"
                (click)="clearForm()"
                [disabled]="noSearchData"
            >Сбросить</button>
            <button
                [disabled]="regionForm?.invalid || noSearchData || !validFormSearch || isValidProtocolForm"
                (click)="fullSearch()"
                class="btn btn-primary-full s-font upper"
            >Найти</button>
        </div>
    </div>
    <div *ngIf="visibleBranchOptions() || visibleDeletedOption() || visibleClosedDealsOption()" class="full-search-settings-container usual-border">
        <div *ngIf="visibleBranchOptions()">
            <label *ngFor="let but of radioTopButton" class="radio-inline">
                <input type="radio" name="full-space" [value]="but.value" [(ngModel)]="mode">
                <span></span>
                <span class="m-font">
                    {{but.title}}
                </span>
            </label>
        </div>
        <div class="line" *ngIf="visibleDeletedOption()">
            <label class="checkbox-inline"><input type="checkbox" name="seeDelete" [(ngModel)]="settings.opts.deleted"><span></span><span class="m-font">Учитывать логически удаленные</span></label>
        </div>
        <div class="line" *ngIf="visibleClosedDealsOption()">
            <label class="checkbox-inline"><input type="checkbox" name="seeDelete" [(ngModel)]="settings.opts.closed"><span></span><span class="m-font">С закрытыми делами</span></label>
        </div>
    </div>

    <!--FOR reshen-->
    <div [hidden]="dictId !== 'reshen' && dictId !== 'user_param'"
        class="full-search-form">
        <form id="reshen">
            <div class="form-group unimportant-text">
                <label class="s-font"
                    for="title">{{fieldsDescription.rec['CLASSIF_NAME']?.title}}</label>
                <div class="search-fld">
                    <input id="title"
                        name="title"
                        type="text"
                        class="form-control light"
                        [(ngModel)]="searchModel['CLASSIF_NAME']"
                        placeholder="..."
                        maxlength="{{fieldsDescription.rec['CLASSIF_NAME']?.length}}">
                    <a class="clear-btn"
                        [ngClass]="{'hide': !searchModel['CLASSIF_NAME']}"
                        (click)="searchModel['CLASSIF_NAME'] = ''"><span class="eos-adm-icon eos-adm-icon-close-blue"></span></a>
                </div>
            </div>
            <div class="form-group unimportant-text">
                <label class="s-font"
                    for="notes">{{fieldsDescription.rec['NOTE']?.title}}</label>
                <div class="search-fld">
                    <input id="notes"
                        name="notes"
                        type="text"
                        class="form-control light"
                        [(ngModel)]="searchModel['NOTE']"
                        placeholder="..."
                        maxlength="{{fieldsDescription.rec['NOTE']?.length}}">
                    <a class="clear-btn"
                        [ngClass]="{'hide': !searchModel['NOTE']}"
                        (click)="searchModel['NOTE'] = ''"><span class="eos-adm-icon eos-adm-icon-close-blue"></span></a>
                </div>
            </div>
        </form>
    </div>

    <!--FOR Departments-->
    <div [hidden]="dictId !== 'departments' && dictId !== 'user_param'"
        class="full-search-form">
        <div *ngIf="modes"
            class="tabs-wrapper usual-border">
            <ul class="tabs">
                <li class="tab-item"
                    *ngFor="let tab of modes"
                    role="presentation"
                    [ngClass]="{'active secondary-text': tab.key === currTab}"
                    (click)="setTab(tab.key)">
                    <span class="tab-title">{{tab.title}}</span>
                </li>
            </ul>
        </div>
        <div *ngIf="currTab === 'person'"
            class="row">
            <form id="person">
                <button [disabled]="noSearchData"
                    type="submit"
                    (click)="fullSearch()"
                    class="hidden-submit">Найти</button>
                <div class="first-col margin-r">
                    <div class="form-group unimportant-text">
                        <label class="s-font"
                            for="CODE_PERSON">{{fieldsDescription.rec['CODE']?.title}}</label>
                        <div class="search-fld">
                            <input id="CODE_PERSON"
                                name="CODE_PERSON"
                                type="text"
                                class="form-control light"
                                [(ngModel)]="searchModel['CODE']"
                                placeholder="..."
                                maxlength="{{fieldsDescription.rec['CODE']?.length}}">
                            <a class="clear-btn"
                                [ngClass]="{'hide': !searchModel['CODE']}"
                                (click)="searchModel['CODE'] = ''"><span class="eos-adm-icon eos-adm-icon-close-blue"></span></a>
                        </div>
                    </div>
                    <div class="form-group unimportant-text">
                        <label class="s-font"
                            for="PHONE">{{fieldsDescription.rec['PHONE']?.title}}</label>
                        <div class="search-fld">
                            <input id="PHONE"
                                name="PHONE"
                                type="text"
                                class="form-control light"
                                [(ngModel)]="searchModel['PHONE_LOCAL']"
                                placeholder="..."
                                maxlength="{{fieldsDescription.rec['PHONE']?.length}}">
                            <a class="clear-btn"
                                [ngClass]="{'hide': !searchModel['PHONE_LOCAL']}"
                                (click)="searchModel['PHONE_LOCAL'] = ''"><span class="eos-adm-icon eos-adm-icon-close-blue"></span></a>
                        </div>
                    </div>
                    <div class="form-group unimportant-text">
                        <label class="s-font"
                            for="E_MAIL">{{fieldsDescription.rec['E_MAIL']?.title}}</label>
                        <div class="search-fld">
                            <input id="E_MAIL"
                                name="E_MAIL"
                                type="text"
                                class="form-control light"
                                [(ngModel)]="searchModel['E_MAIL']"
                                placeholder="..."
                                maxlength="{{fieldsDescription.rec['E_MAIL']?.length}}">
                            <a class="clear-btn"
                                [ngClass]="{'hide': !searchModel['E_MAIL']}"
                                (click)="searchModel['E_MAIL'] = ''"><span class="eos-adm-icon eos-adm-icon-close-blue"></span></a>
                        </div>
                    </div>
                </div>
                <div class="second-col">
                    <div class="form-group unimportant-text">
                        <label class="s-font" for="FIO">{{fieldsDescription.rec['SURNAME']?.title}}</label>
                        <div class="search-fld">
                            <input id="FIO"
                                   name="FIO"
                                   type="text"
                                   class="form-control light"
                                   [(ngModel)]="searchModel['SURNAME']"
                                   placeholder="...">
                            <a class="clear-btn"
                               [ngClass]="{'hide': !searchModel['SURNAME']}"
                               (click)="searchModel['SURNAME'] = ''"><span class="eos-adm-icon eos-adm-icon-close-blue"></span></a>
                        </div>
                    </div>
                    <div class="form-group unimportant-text">
                        <label class="s-font"
                            for="SURNAME">Фамилия</label>
                        <div class="search-fld">
                            <input id="SURNAME"
                                name="SURNAME"
                                type="text"
                                class="form-control light"
                                [(ngModel)]="searchModel['printInfo.SURNAME']"
                                placeholder="..."
                                maxlength="64">
                            <a class="clear-btn"
                                [ngClass]="{'hide': !searchModel['printInfo.SURNAME']}"
                                (click)="searchModel['printInfo.SURNAME'] = ''"><span class="eos-adm-icon eos-adm-icon-close-blue"></span></a>
                        </div>
                    </div>
                    <div class="form-group">
                        <div class="form-group unimportant-text margin-r col-250">
                            <label class="s-font"
                                for="NAME">Имя</label>
                            <div class="search-fld">
                                <input id="NAME"
                                    name="NAME"
                                    type="text"
                                    class="form-control light"
                                    [(ngModel)]="searchModel['printInfo.NAME']"
                                    placeholder="..."
                                    maxlength="64">
                                <a class="clear-btn"
                                    [ngClass]="{'hide': !searchModel['printInfo.NAME']}"
                                    (click)="searchModel['printInfo.NAME'] = ''"><span class="eos-adm-icon eos-adm-icon-close-blue"></span></a>
                            </div>
                        </div>
                        <div class="form-group unimportant-text col-250">
                            <label class="s-font"
                                for="PATRON">Отчество</label>
                            <div class="search-fld">
                                <input id="PATRON"
                                    name="PATRON"
                                    type="text"
                                    class="form-control light"
                                    [(ngModel)]="searchModel['printInfo.PATRON']"
                                    placeholder="..."
                                    maxlength="64">
                                <a class="clear-btn"
                                    [ngClass]="{'hide': !searchModel['printInfo.PATRON']}"
                                    (click)="searchModel['printInfo.PATRON'] = ''"><span class="eos-adm-icon eos-adm-icon-close-blue"></span></a>
                            </div>
                        </div>
                    </div>
                    <div class="form-group">
                        <div class="form-group unimportant-text">
                            <label class="s-font"
                                for="DUTY">{{fieldsDescription.rec['DUTY']?.title}}</label>
                            <div class="search-fld">
                                <input id="DUTY"
                                    name="DUTY"
                                    type="text"
                                    class="form-control light"
                                    [(ngModel)]="searchModel['DUTY']"
                                    placeholder="..."
                                    maxlength="{{fieldsDescription.rec['DUTY']?.length}}">
                                <a class="clear-btn"
                                    [ngClass]="{'hide': !searchModel['DUTY']}"
                                    (click)="searchModel['DUTY'] = ''"><span class="eos-adm-icon eos-adm-icon-close-blue"></span></a>
                            </div>
                        </div>
                    </div>
                    <div class="form-group unimportant-text">
                        <label class="s-font"
                            for="PERSON_NOTE">{{fieldsDescription.rec['NOTE']?.title}}</label>
                        <div class="search-fld">
                            <input id="PERSON_NOTE"
                                name="PERSON_NOTE"
                                type="text"
                                class="form-control light"
                                [(ngModel)]="searchModel['NOTE']"
                                placeholder="..."
                                maxlength="{{fieldsDescription.rec['NOTE']?.length}}">
                            <a class="clear-btn"
                                [ngClass]="{'hide': !searchModel['NOTE']}"
                                (click)="searchModel['NOTE'] = ''"><span class="eos-adm-icon eos-adm-icon-close-blue"></span></a>
                        </div>
                    </div>
                </div>
            </form>
        </div>
        <div *ngIf="currTab === 'cabinet'"
            class="row">
            <form id="cabinet">
                <button [disabled]="noSearchData"
                    type="submit"
                    (click)="fullSearch()"
                    class="hidden-submit">Найти</button>
                <div class="form-group unimportant-text">
                    <label class="s-font"
                        for="titleRoom">{{fieldsDescription.rec['titleRoom']?.title}}</label>
                    <div class="search-fld">
                        <input id="titleRoom"
                            name="titleRoom"
                            type="text"
                            class="form-control light"
                            [(ngModel)]="searchModel['CABINET_NAME']"
                            maxlength="{{fieldsDescription.rec['titleRoom']?.length}}"
                            placeholder="...">
                        <a class="clear-btn"
                            [ngClass]="{'hide': !searchModel['CABINET_NAME']}"
                            (click)="searchModel['CABINET_NAME'] = ''"><span class="eos-adm-icon eos-adm-icon-close-blue"></span></a>
                    </div>
                </div>
            </form>
        </div>
        <div *ngIf="currTab === 'department'"
            class="row">
            <form id="department">
                <button [disabled]="noSearchData"
                    type="submit"
                    (click)="fullSearch()"
                    class="hidden-submit">Найти</button>
                <div class="first-col margin-r">
                    <div class="form-group unimportant-text">
                        <label class="s-font"
                            for="CODE">{{fieldsDescription.rec['CODE']?.title}}</label>
                        <div class="search-fld">
                            <input id="CODE"
                                name="CODE"
                                type="text"
                                class="form-control light"
                                [(ngModel)]="searchModel['CODE']"
                                placeholder="..."
                                maxlength="{{fieldsDescription.rec['CODE']?.length}}">
                            <a class="clear-btn"
                                [ngClass]="{'hide': !searchModel['CODE']}"
                                (click)="searchModel['CODE'] = ''"><span class="eos-adm-icon eos-adm-icon-close-blue"></span></a>
                        </div>
                    </div>
                    <div class="form-group unimportant-text">
                        <label class="s-font"
                            for="indexDep">{{fieldsDescription.rec['indexDep']?.title}}</label>
                        <div class="search-fld">
                            <input id="indexDep"
                                name="indexDepcode"
                                type="text"
                                class="form-control light"
                                [(ngModel)]="searchModel['DEPARTMENT_INDEX']"
                                placeholder="..."
                                maxlength="{{fieldsDescription.rec['indexDep']?.length}}">
                            <a class="clear-btn"
                                [ngClass]="{'hide': !searchModel['DEPARTMENT_INDEX']}"
                                (click)="searchModel['DEPARTMENT_INDEX'] = ''"><span class="eos-adm-icon eos-adm-icon-close-blue"></span></a>
                        </div>
                    </div>
                </div>
                <div class="second-col">
                    <div class="form-group unimportant-text">
                        <label class="s-font"
                            for="title">{{fieldsDescription.rec['nametitleDep']?.title}}</label>
                        <div class="search-fld">
                            <input id="title"
                                name="title"
                                type="text"
                                class="form-control light"
                                [(ngModel)]="searchModel['CLASSIF_NAME']"
                                placeholder="..."
                                maxlength="{{fieldsDescription.rec['nametitleDep']?.length}}">
                            <a class="clear-btn"
                                [ngClass]="{'hide': !searchModel['CLASSIF_NAME']}"
                                (click)="searchModel['CLASSIF_NAME'] = ''"><span class="eos-adm-icon eos-adm-icon-close-blue"></span></a>
                        </div>
                    </div>
                    <div class="form-group unimportant-text">
                        <label class="s-font"
                            for="fullTitle">{{fieldsDescription.rec['fullTitle']?.title}}</label>
                        <div class="search-fld">
                            <input id="fullTitle"
                                name="fullTitle"
                                type="text"
                                class="form-control light"
                                [(ngModel)]="searchModel['FULLNAME']"
                                placeholder="..."
                                maxlength="{{fieldsDescription.rec['fullTitle']?.length}}">
                            <a class="clear-btn"
                                [ngClass]="{'hide': !searchModel['FULLNAME']}"
                                (click)="searchModel['FULLNAME'] = ''"><span class="eos-adm-icon eos-adm-icon-close-blue"></span></a>
                        </div>
                    </div>
                    <div class="form-group unimportant-text">
                        <label class="s-font"
                            for="DEPARTMENT_NOTE">{{fieldsDescription.rec['NOTE']?.title}}</label>
                        <div class="search-fld">
                            <input id="DEPARTMENT_NOTE"
                                name="DEPARTMENT_NOTE"
                                type="text"
                                class="form-control light"
                                [(ngModel)]="searchModel['NOTE']"
                                placeholder="..."
                                maxlength="{{fieldsDescription.rec['NOTE']?.length}}">
                            <a class="clear-btn"
                                [ngClass]="{'hide': !searchModel['NOTE']}"
                                (click)="searchModel['NOTE'] = ''"><span class="eos-adm-icon eos-adm-icon-close-blue"></span></a>
                        </div>
                    </div>
                </div>
            </form>
        </div>
    </div>

    <!--FOR Docgroups-->
    <div [hidden]="dictId !== 'docgroup'"
        *ngIf="searchModel"
        class="row full-search-form">
        <form id="docgroup">
            <button [disabled]="noSearchData"
                type="submit"
                (click)="fullSearch()"
                class="hidden-submit">Найти</button>

                <div class="form-group unimportant-text">
                    <label class="s-font"
                        for="docName">{{fieldsDescription.rec['CLASSIF_NAME']?.title}}</label>
                    <div class="search-fld">
                        <input id="docName"
                            name="docName"
                            type="text"
                            class="form-control light"
                            [(ngModel)]="searchModel['CLASSIF_NAME']"
                            placeholder="..."
                            maxlength="{{fieldsDescription.rec['CLASSIF_NAME']?.length}}">
                        <a class="clear-btn"
                            [ngClass]="{'hide': !searchModel['CLASSIF_NAME']}"
                            (click)="searchModel['CLASSIF_NAME'] = ''"><span class="eos-adm-icon eos-adm-icon-close-blue"></span></a>
                    </div>
                </div>

                <div class="form-group unimportant-text">
                    <label class="s-font"
                        for="docFullTitle">{{fieldsDescription.rec['FULLNAME']?.title}}</label>
                    <div class="search-fld">
                        <input id="docFullTitle"
                            name="docFullTitle"
                            type="text"
                            class="form-control light"
                            [(ngModel)]="searchModel['FULLNAME']"
                            placeholder="..."
                            maxlength="{{fieldsDescription.rec['FULLNAME']?.length}}">
                        <a class="clear-btn"
                            [ngClass]="{'hide': !searchModel['FULLNAME']}"
                            (click)="searchModel['FULLNAME'] = ''"><span class="eos-adm-icon eos-adm-icon-close-blue"></span></a>
                    </div>
                </div>
                <div class="form-group unimportant-text">
                    <label class="s-font" for="docIndex">{{fieldsDescription.rec['DOCGROUP_INDEX']?.title}}</label>
                    <div class="search-fld">
                        <input id="docIndex"
                               name="docIndex"
                               type="text"
                               class="form-control light"
                               [(ngModel)]="searchModel['DOCGROUP_INDEX']"
                               placeholder="..."
                               maxlength="{{fieldsDescription.rec['DOCGROUP_INDEX']?.length}}">
                        <a class="clear-btn"
                           [ngClass]="{'hide': !searchModel['DOCGROUP_INDEX']}"
                           (click)="searchModel['DOCGROUP_INDEX'] = ''"><span class="eos-adm-icon eos-adm-icon-close-blue"></span></a>
                    </div>
                </div>
                <div class="form-group unimportant-text">
                    <label class="s-font"
                        for="docNote">{{fieldsDescription.rec['NOTE']?.title}}</label>
                    <div class="search-fld">
                        <input id="docNote"
                            name="docNote"
                            type="text"
                            class="form-control light"
                            [(ngModel)]="searchModel['NOTE']"
                            placeholder="..."
                            maxlength="{{fieldsDescription.rec['NOTE']?.length}}">
                        <a class="clear-btn"
                            [ngClass]="{'hide': !searchModel['NOTE']}"
                            (click)="searchModel['NOTE'] = ''"><span class="eos-adm-icon eos-adm-icon-close-blue"></span></a>
                    </div>
                </div>
        </form>
    </div>

    <!--FOR Nomenkl-->
    <div [hidden]="dictId !== 'nomenkl'"
        *ngIf="searchModel"
        class="row full-search-form">
        <form id="docgroup">
            <button [disabled]="noSearchData"
                type="submit"
                (click)="fullSearch()"
                class="hidden-submit">Найти</button>

                <div class="form-group unimportant-text">
                    <label class="s-font"
                        for="docName">{{fieldsDescription.rec['CLASSIF_NAME']?.title}}</label>
                    <div class="search-fld">
                        <input id="docName"
                            name="docName"
                            type="text"
                            class="form-control light"
                            [(ngModel)]="searchModel['CLASSIF_NAME']"
                            placeholder="..."
                            maxlength="{{fieldsDescription.rec['CLASSIF_NAME']?.length}}">
                        <a class="clear-btn"
                            [ngClass]="{'hide': !searchModel['CLASSIF_NAME']}"
                            (click)="searchModel['CLASSIF_NAME'] = ''"><span class="eos-adm-icon eos-adm-icon-close-blue"></span></a>
                    </div>
                </div>

                <div class="form-group unimportant-text">
                    <label class="s-font"
                        for="docFullTitle">{{fieldsDescription.rec['NOM_NUMBER']?.title}}</label>
                    <div class="search-fld">
                        <input id="docFullTitle"
                            name="docFullTitle"
                            type="text"
                            class="form-control light"
                            [(ngModel)]="searchModel['NOM_NUMBER']"
                            placeholder="..."
                            maxlength="{{fieldsDescription.rec['NOM_NUMBER']?.length}}">
                        <a class="clear-btn"
                            [ngClass]="{'hide': !searchModel['NOM_NUMBER']}"
                            (click)="searchModel['NOM_NUMBER'] = ''"><span class="eos-adm-icon eos-adm-icon-close-blue"></span></a>
                    </div>
                </div>
                <div class="form-group unimportant-text">
                    <label class="s-font" for="docIndex">{{fieldsDescription.rec['deepName']?.title}}</label>
                    <div class="search-fld">
                        <input id="docIndex"
                               name="docIndex"
                               type="text"
                               class="form-control light"
                               [(ngModel)]="searchModel['deepName']"
                               placeholder="..."
                               maxlength="{{fieldsDescription.rec['deepName']?.length}}">
                        <a class="clear-btn"
                           [ngClass]="{'hide': !searchModel['deepName']}"
                           (click)="searchModel['deepName'] = ''"><span class="eos-adm-icon eos-adm-icon-close-blue"></span></a>
                    </div>
                </div>
                <div class="form-group unimportant-text">
                    <label class="s-font"
                        for="docArticle">{{fieldsDescription.rec['ARTICLE']?.title}}</label>
                    <div class="search-fld">
                        <input id="docArticle"
                            name="docArticle"
                            type="text"
                            class="form-control light"
                            [(ngModel)]="searchModel['ARTICLE']"
                            placeholder="..."
                            maxlength="{{fieldsDescription.rec['ARTICLE']?.length}}">
                        <a class="clear-btn"
                            [ngClass]="{'hide': !searchModel['ARTICLE']}"
                            (click)="searchModel['ARTICLE'] = ''"><span class="eos-adm-icon eos-adm-icon-close-blue"></span></a> <!--  -->
                    </div>
                </div>
                <div class="form-group unimportant-text">
                    <label class="s-font"
                        for="docNote">{{fieldsDescription.rec['NOTE']?.title}}</label>
                    <div class="search-fld">
                        <input id="docNote"
                            name="docNote"
                            type="text"
                            class="form-control light"
                            [(ngModel)]="searchModel['NOTE']"
                            placeholder="..."
                            maxlength="{{fieldsDescription.rec['NOTE']?.length}}">
                        <a class="clear-btn"
                            [ngClass]="{'hide': !searchModel['NOTE']}"
                            (click)="searchModel['NOTE'] = ''"><span class="eos-adm-icon eos-adm-icon-close-blue"></span></a>
                    </div>
                </div>
        </form>
    </div>

    <!--FOR Rubricator-->
    <div [hidden]="dictId !== 'rubricator'"
        class="row full-search-form">
        <form id="rubricator">
            <button [disabled]="noSearchData"
                type="submit"
                (click)="fullSearch()"
                class="hidden-submit">Найти</button>
            <div class="first-col margin-r">
                <div class="form-group unimportant-text">
                    <label class="s-font"
                        for="code">{{fieldsDescription.rec['RUBRIC_CODE']?.title}}</label>
                    <div class="search-fld">
                        <input id="code"
                            name="code"
                            type="text"
                            class="form-control light"
                            [(ngModel)]="searchModel['RUBRIC_CODE']"
                            placeholder="..."
                            maxlength="{{fieldsDescription.rec['RUBRIC_CODE']?.length}}">
                        <a class="clear-btn"
                            [ngClass]="{'hide': !searchModel['RUBRIC_CODE']}"
                            (click)="searchModel['RUBRIC_CODE'] = ''"><span class="eos-adm-icon eos-adm-icon-close-blue"></span></a>
                    </div>
                </div>
            </div>
            <div class="second-col">
                <div class="form-group unimportant-text">
                    <label class="s-font"
                        for="titles">{{fieldsDescription.rec['CLASSIF_NAME']?.title}}</label>
                    <div class="search-fld">
                        <input id="titles"
                            name="titles"
                            type="text"
                            class="form-control light"
                            [(ngModel)]="searchModel['CLASSIF_NAME']"
                            placeholder="..."
                            maxlength="{{fieldsDescription.rec['CLASSIF_NAME']?.length}}">
                        <a class="clear-btn"
                            [ngClass]="{'hide': !searchModel['CLASSIF_NAME']}"
                            (click)="searchModel['CLASSIF_NAME'] = ''"><span class="eos-adm-icon eos-adm-icon-close-blue"></span></a>
                    </div>
                </div>

                <div class="form-group unimportant-text">
                    <label class="s-font"
                        for="fullTitle">{{fieldsDescription.rec['FULLNAME']?.title}}</label>
                    <div class="search-fld">
                        <input id="fullTitle"
                            name="fullTitle"
                            type="text"
                            class="form-control light"
                            [(ngModel)]="searchModel['FULLNAME']"
                            placeholder="..."
                            maxlength="{{fieldsDescription.rec['FULLNAME']?.length}}">
                        <a class="clear-btn"
                            [ngClass]="{'hide': !searchModel['FULLNAME']}"
                            (click)="searchModel['FULLNAME'] = ''"><span class="eos-adm-icon eos-adm-icon-close-blue"></span></a>
                    </div>
                </div>
                <div class="form-group unimportant-text">
                    <label class="s-font"
                        for="note">{{fieldsDescription.rec['NOTE']?.title}}</label>
                    <div class="search-fld">
                        <input id="note"
                            name="note"
                            type="text"
                            class="form-control light"
                            [(ngModel)]="searchModel['NOTE']"
                            placeholder="..."
                            maxlength="{{fieldsDescription.rec['NOTE']?.length}}">
                        <a class="clear-btn"
                            [ngClass]="{'hide': !searchModel['NOTE']}"
                            (click)="searchModel['NOTE'] = ''"><span class="eos-adm-icon eos-adm-icon-close-blue"></span></a>
                    </div>
                </div>
            </div>
        </form>
    </div>

    <!--FOR Regions-->
    <div [hidden]="dictId !== 'region'"
        class="row full-search-form">
        <form id="region" #regionForm="ngForm" >
            <button [disabled]="noSearchData || regionForm.invalid"
                type="submit"
                (click)="fullSearch()"
                class="hidden-submit">Найти</button>


                <div class="form-group unimportant-text"
                     triggers="input:focus"
                     [tooltip]="!regionForm.controls['codes']?.valid ? 'Введите цифры' : null"
                     container="body"
                     placement="bottom"
                     containerClass="tooltip-error">
                    <label class="s-font" for="codes" >{{fieldsDescription.rec['CODE']?.title}}</label>
                    <input  id="codes" name="codes" type="text" class="form-control"
                        [(ngModel)]="searchModel['CODE']"
                        [pattern]="fieldsDescription.rec['CODE']?.pattern"
                        maxlength="{{fieldsDescription.rec['CODE']?.length}}">
                </div>


                <div class="form-group unimportant-text">
                    <label class="s-font" for="cod-okato" >{{fieldsDescription.rec['COD_OKATO']?.title}}</label>
                    <input id="cod-okato" name="cod-okato" type="text" class="form-control"
                        [(ngModel)]="searchModel['COD_OKATO']"

                        maxlength="{{fieldsDescription.rec['COD_OKATO']?.length}}">
                </div>

            <div class="form-group unimportant-text">
                <label class="s-font"
                    for="name">{{fieldsDescription.rec['CLASSIF_NAME']?.title}}</label>
                <div class="search-fld">
                    <input id="name"
                        name="name"
                        type="text"
                        class="form-control"
                        [(ngModel)]="searchModel['CLASSIF_NAME']"
                        placeholder="..."
                        maxlength="{{fieldsDescription.rec['CLASSIF_NAME']?.length}}">
                    <a class="clear-btn"
                        [ngClass]="{'hide': !searchModel['CLASSIF_NAME']}"
                        (click)="searchModel['CLASSIF_NAME'] = ''"><span class="eos-adm-icon eos-adm-icon-close-blue"></span></a>
                </div>
            </div>
            <!--
                <div class="form-group unimportant-text">
                    <label class="s-font" for="note" >{{fieldsDescription.rec['NOTE']?.title}}</label>
                    <input id="note" name="note" type="text" class="form-control"
                        [(ngModel)]="searchModel['NOTE']"
                        placeholder="{{fieldsDescription.rec['NOTE']?.title}}"
                        maxlength="{{fieldsDescription.rec['NOTE']?.length}}">
                </div>
                -->
        </form>
    </div>

    <!--FOR Cabinets-->
    <div [hidden]="dictId !== 'cabinet'"
        *ngIf="searchModel"
        class="row full-search-form">
        <form id="cabinet">
            <button [disabled]="noSearchData"
                type="submit"
                (click)="fullSearch()"
                class="hidden-submit">Найти</button>
            <div class="form-group unimportant-text">
                <label class="s-font"
                    for="names">{{fieldsDescription.rec['CABINET_NAME']?.title}}</label>
                <div class="search-fld">
                    <input id="names"
                        name="names"
                        type="text"
                        class="form-control"
                        [(ngModel)]="searchModel['CABINET_NAME']"
                        placeholder="..."
                        maxlength="{{fieldsDescription.rec['CABINET_NAME']?.length}}">
                    <a class="clear-btn"
                        [ngClass]="{'hide': !searchModel['CABINET_NAME']}"
                        (click)="searchModel['CABINET_NAME'] = ''"><span class="eos-adm-icon eos-adm-icon-close-blue"></span></a>
                </div>
            </div>
            <!-- <div class="form-group unimportant-text">
                <label class="s-font"
                    for="fullname">{{fieldsDescription.rec['FULLNAME']?.title}}</label>
                <div class="search-fld">
                    <input id="fullname"
                        name="fullname"
                        type="text"
                        class="form-control"
                        [(ngModel)]="searchModel['FULLNAME']"
                        placeholder="..."
                        maxlength="{{fieldsDescription.rec['FULLNAME']?.length}}">
                    <a class="clear-btn"
                        [ngClass]="{'hide': !searchModel['FULLNAME']}"
                        (click)="searchModel['FULLNAME'] = ''"><span class="eos-adm-icon eos-adm-icon-close-blue"></span></a>
                </div>
            </div> -->
        </form>
    </div>

    <!--FOR Templates-->
    <div [hidden]="dictId !== 'templates'"
    *ngIf="searchModel"
    class="row full-search-form">
    <form id="templates">
        <button [disabled]="noSearchData"
            type="submit"
            (click)="fullSearch()"
            class="hidden-submit">Найти</button>

            <div class="form-group unimportant-text">
                <label class="s-font"
                    for="tempName">{{fieldsDescription.rec['NAME_TEMPLATE']?.title}}</label>
                <div class="search-fld">
                    <input id="tempName"
                        name="tempName"
                        type="text"
                        class="form-control light"
                        [(ngModel)]="searchModel['NAME_TEMPLATE']"
                        placeholder="..."
                        maxlength="{{fieldsDescription.rec['NAME_TEMPLATE']?.length}}">
                    <a class="clear-btn"
                        [ngClass]="{'hide': !searchModel['NAME_TEMPLATE']}"
                        (click)="searchModel['NAME_TEMPLATE'] = ''"><span class="eos-adm-icon eos-adm-icon-close-blue"></span></a>
                </div>
            </div>
            <div class="form-group unimportant-text">
                <label class="s-font"
                    for="desc">{{fieldsDescription.rec['DESCRIPTION']?.title}}</label>
                <div class="search-fld">
                    <input id="desc"
                        name="desc"
                        type="text"
                        class="form-control light"
                        [(ngModel)]="searchModel['DESCRIPTION']"
                        placeholder="..."
                        maxlength="{{fieldsDescription.rec['DESCRIPTION']?.length}}">
                    <a class="clear-btn"
                        [ngClass]="{'hide': !searchModel['DESCRIPTION']}"
                        (click)="searchModel['DESCRIPTION'] = ''"><span class="eos-adm-icon eos-adm-icon-close-blue"></span></a>
                </div>
            </div>
            <div class="form-group unimportant-text">
                <label class="s-font"
                    for="catName">{{fieldsDescription.rec['CATEGORY']?.title}}</label>
                <div class="search-fld">
                    <input id="catName"
                        name="catName"
                        type="text"
                        class="form-control light"
                        [(ngModel)]="searchModel['CATEGORY']"
                        placeholder="..."
                        maxlength="{{fieldsDescription.rec['CATEGORY']?.length}}">
                    <a class="clear-btn"
                        [ngClass]="{'hide': !searchModel['CATEGORY']}"
                        (click)="searchModel['CATEGORY'] = ''"><span class="eos-adm-icon eos-adm-icon-close-blue"></span></a>
                </div>
            </div>
    </form>
    </div>

    <!--FOR CITIZENS-->
    <div class="row full-search-form" [hidden]="dictId !== 'citizens' && dictId !== 'user_param'">
        <div class="tabs-wrapper usual-border" style="margin: 0; width: 100%;">
            <ul class="tabs">
                <li class="tab-item"
                    *ngFor="let tab of modes"
                    role="presentation"
                    [ngClass]="{'active secondary-text': tab.key === currTab}"
                    (click)="setTab(tab.key)">
                    <span class="tab-title">{{tab.title}}</span>
                </li>
            </ul>
        </div>
        <form id="citizen" *ngIf="currTab === 'common'">
            <button [disabled]="noSearchData"
                type="submit"
                (click)="fullSearch()"
                class="hidden-submit"
            >Найти</button>

            <div class="wrapper-double-fields">
                <div class="form-group unimportant-text">
                    <label class="s-font"
                        for="citizen-surname">{{fieldsDescription.rec['CITIZEN_SURNAME']?.title}}</label>
                    <div class="search-fld">
                        <input id="citizen-surname"
                            name="citizen-surname"
                            type="text"
                            class="form-control light"
                            [(ngModel)]="searchModel['CITIZEN_SURNAME']"
                            placeholder="..."
                            maxlength="{{fieldsDescription.rec['CITIZEN_SURNAME']?.length}}"
                            autofocus>
                        <a class="clear-btn"
                            [ngClass]="{'hide': !searchModel['CITIZEN_SURNAME']}"
                            (click)="searchModel['CITIZEN_SURNAME'] = ''"><span class="eos-adm-icon eos-adm-icon-close-blue"></span></a>
                    </div>
                </div>
                <div class="form-group unimportant-text">
                    <label class="s-font"
                        for="region-name">Регион</label>
                    <div class="search-fld">
                        <input id="region-name"
                            onfocus="this.blur()"
                            readonly
                            name="region-name"
                            type="text"
                            class="form-control light"
                            [(ngModel)]="searchModel['REGION_NAME']"
                            placeholder="..."
                            maxlength="{{fieldsDescription.rec['REGION_NAME']?.length}}">
                            <span
                                class="action eos-adm-icon eos-adm-icon-directory-book-blue"
                                style="position: absolute; right: 5px; width: 24px; height: 24px; top: 4px;cursor:pointer;"
                                container="body"
                                placement="bottom"
                                containerClass="tooltip-info"
                                triggers="hover"
                                eosClickMode
                                tooltip="Выбрать" (click)="openDict()"></span>
                        <a style="right: 30px;"
                            class="clear-btn"
                            [ngClass]="{'hide': !searchModel['REGION_NAME']}"
                            (click)="[searchModel['REGION_NAME'] = '', searchModel['ISN_REGION'] = '']"><span class="eos-adm-icon eos-adm-icon-close-blue"></span></a>
                    </div>
                </div>
            </div>

            <div class="wrapper-double-fields">
                <div class="form-group unimportant-text">
                    <label class="s-font"
                        for="citizen-sity">{{fieldsDescription.rec['CITIZEN_CITY']?.title}}</label>
                    <div class="search-fld">
                        <input id="citizen-sity"
                            name="citizen-sity"
                            type="text"
                            class="form-control light"
                            [(ngModel)]="searchModel['CITIZEN_CITY']"
                            placeholder="..."
                            maxlength="{{fieldsDescription.rec['CITIZEN_CITY']?.length}}">
                        <a class="clear-btn"
                            [ngClass]="{'hide': !searchModel['CITIZEN_CITY']}"
                            (click)="searchModel['CITIZEN_CITY'] = ''"><span class="eos-adm-icon eos-adm-icon-close-blue"></span></a>
                    </div>
                </div>
                <div class="form-group unimportant-text">
                    <label class="s-font"
                        for="zipcode">{{fieldsDescription.rec['ZIPCODE']?.title}}</label>
                    <div class="search-fld">
                        <input id="zipcode"
                            name="zipcode"
                            type="text"
                            class="form-control light"
                            [(ngModel)]="searchModel['ZIPCODE']"
                            placeholder="..."
                            maxlength="{{fieldsDescription.rec['ZIPCODE']?.length}}">
                        <a class="clear-btn"
                            [ngClass]="{'hide': !searchModel['ZIPCODE']}"
                            (click)="searchModel['ZIPCODE'] = ''"><span class="eos-adm-icon eos-adm-icon-close-blue"></span></a>
                    </div>
                </div>
            </div>

            <div class="wrapper-double-fields">
                <div class="form-group unimportant-text">
                    <label class="s-font"
                        for="citizen-addr">{{fieldsDescription.rec['CITIZEN_ADDR']?.title}}</label>
                    <div class="search-fld">
                        <input id="citizen-addr"
                            name="citizen-addr"
                            type="text"
                            class="form-control light"
                            [(ngModel)]="searchModel['CITIZEN_ADDR']"
                            placeholder="..."
                            maxlength="{{fieldsDescription.rec['CITIZEN_ADDR']?.length}}">
                        <a class="clear-btn"
                            [ngClass]="{'hide': !searchModel['CITIZEN_ADDR']}"
                            (click)="searchModel['CITIZEN_ADDR'] = ''"><span class="eos-adm-icon eos-adm-icon-close-blue"></span></a>
                    </div>
                </div>
                <div class="form-group unimportant-text">
                    <label class="s-font"
                        for="E_MAIL">{{fieldsDescription.rec['E_MAIL']?.title}}</label>
                    <div class="search-fld">
                        <input id="E_MAIL"
                            name="E_MAIL"
                            type="text"
                            class="form-control light"
                            [(ngModel)]="searchModel['E_MAIL']"
                            placeholder="..."
                            maxlength="{{fieldsDescription.rec['E_MAIL']?.length}}">
                        <a class="clear-btn"
                            [ngClass]="{'hide': !searchModel['E_MAIL']}"
                            (click)="searchModel['E_MAIL'] = ''"><span class="eos-adm-icon eos-adm-icon-close-blue"></span></a>
                    </div>
                </div>
            </div>

            <ng-content *ngTemplateOutlet="doprec"></ng-content>
            <div class="form-group unimportant-text additional-requisite" >
                <label class="checkbox-inline">
                    <input type="checkbox" name="seeNew" (change)="rest($event)" [(ngModel)]="settings.opts.onlyNew">
                    <span></span>
                    <span class="m-font">Только новые</span>
                </label>
            </div>
        </form>
        <div *ngIf="currTab === 'protocol'">
            <ng-container *ngTemplateOutlet="protocol" ></ng-container>
        </div>
    </div>

    <!--FOR organization-->
    <div class="full-search-form" [hidden]="dictId !== 'organization'">
        <div class="tabs-wrapper usual-border">
            <ul class="tabs">
                <li class="tab-item"
                    *ngFor="let tab of modes"
                    role="presentation"
                    [ngClass]="{'active secondary-text': tab.key === currTab}"
                    (click)="setTab(tab.key)">
                    <span class="tab-title">{{tab.title}}</span>
                </li>
            </ul>
        </div>

        <div *ngIf="currTab === 'common'" class="row">
            <form id="organization">
                <button [disabled]="noSearchData"
                    type="submit"
                    (click)="fullSearch()"
                    class="hidden-submit"
                >Найти</button>

                <div class="form-group unimportant-text">
                    <label class="s-font"
                        for="organization-name">{{fieldsDescription.rec['CLASSIF_NAME']?.title}}</label>
                    <div class="search-fld">
                        <input id="organization-name"
                            name="organization-name"
                            type="text"
                            class="form-control light"
                            [(ngModel)]="searchModel['CLASSIF_NAME']"
                            placeholder="..."
                            maxlength="{{fieldsDescription.rec['CLASSIF_NAME']?.length}}">
                        <a class="clear-btn"
                            [ngClass]="{'hide': !searchModel['CLASSIF_NAME']}"
                            (click)="searchModel['CLASSIF_NAME'] = ''"
                        >
                            <span class="eos-adm-icon eos-adm-icon-close-blue"></span>
                        </a>
                    </div>
                </div>

                <div class="wrapper-double-fields">

                    <div class="form-group unimportant-text elem-double-fields">
                        <label class="s-font" for="organization-email">{{fieldsDescription.rec['EMAIL']?.title}}</label>
                        <div class="search-fld">
                            <input id="organization-email"
                                name="organization-email"
                                type="text"
                                class="form-control light"
                                [(ngModel)]="searchModel['EMAIL']"
                                placeholder="..."
                                maxlength="{{fieldsDescription.rec['EMAIL']?.length}}">
                            <a class="clear-btn"
                                [ngClass]="{'hide': !searchModel['EMAIL']}"
                                (click)="searchModel['EMAIL'] = ''"
                            >
                                <span class="eos-adm-icon eos-adm-icon-close-blue"></span>
                            </a>
                        </div>
                    </div>

                    <div class="form-group unimportant-text elem-double-fields" >
                        <label class="s-font"
                            for="organization-inn">{{fieldsDescription.rec['INN']?.title}}</label>
                        <div class="search-fld">
                            <input id="organization-inn"
                                name="organization-inn"
                                type="text"
                                class="form-control light"
                                [(ngModel)]="searchModel['INN']"
                                placeholder="..."
                                maxlength="{{fieldsDescription.rec['INN']?.length}}">
                            <a class="clear-btn"
                                [ngClass]="{'hide': !searchModel['INN']}"
                                (click)="searchModel['INN'] = ''"
                            >
                                <span class="eos-adm-icon eos-adm-icon-close-blue"></span>
                            </a>
                        </div>
                    </div>
                </div>

                <ng-content *ngTemplateOutlet="doprec"></ng-content>
            </form>
        </div>

        <div *ngIf="currTab === 'medo'" class="row">
            <form id="organization">
                <button
                    [disabled]="noSearchData"
                    type="submit"
                    (click)="fullSearch()"
                    class="hidden-submit"
                >Найти</button>
                <div class="form-group unimportant-text">
                    <label class="s-font"
                        for="organization-name"
                    >
                        {{fieldsDescription.rec['GATE']?.title}}
                    </label>
                    <div class="search-fld">
                        <input id="organization-name"
                            name="organization-name"
                            type="text"
                            class="form-control light"
                            [(ngModel)]="searchModel['GATE']"
                            placeholder="..."
                            maxlength="{{fieldsDescription.rec['GATE']?.length}}">
                        <a class="clear-btn"
                            [ngClass]="{'hide': !searchModel['GATE']}"
                            (click)="searchModel['GATE'] = ''"
                        >
                            <span class="eos-adm-icon eos-adm-icon-close-blue"></span>
                        </a>
                    </div>
                </div>
                <div class="form-group unimportant-text">
                    <label class="s-font" for="organization-email">
                        {{fieldsDescription.rec['GATE_ID']?.title}}
                    </label>
                    <div class="search-fld">
                        <input id="organization-email"
                            name="organization-email"
                            type="text"
                            class="form-control light"
                            [(ngModel)]="searchModel['GATE_ID']"
                            placeholder="..."
                            maxlength="{{fieldsDescription.rec['GATE_ID']?.length}}">
                        <a class="clear-btn"
                            [ngClass]="{'hide': !searchModel['GATE_ID']}"
                            (click)="searchModel['GATE_ID'] = ''"
                        >
                            <span class="eos-adm-icon eos-adm-icon-close-blue"></span>
                        </a>
                    </div>
                </div>
                <div class="form-group unimportant-text">
                    <label class="s-font" for="organization-medo-id">
                        {{fieldsDescription.rec['CONTACT.MEDO_ID']?.title}}
                    </label>
                    <div class="search-fld">
                        <input id="organization-medo-id"
                            name="organization-medo-id"
                            type="text"
                            class="form-control light"
                            [(ngModel)]="searchModel['CONTACT.MEDO_ID']"
                            placeholder="..."
                            maxlength="{{fieldsDescription.rec['CONTACT.MEDO_ID']?.length}}">
                        <a class="clear-btn"
                            [ngClass]="{'hide': !searchModel['CONTACT.MEDO_ID']}"
                            (click)="searchModel['CONTACT.MEDO_ID'] = ''"
                            >
                                <span class="eos-adm-icon eos-adm-icon-close-blue"></span>
                            </a>
                    </div>
                </div>
                <div class="form-group unimportant-text">
                    <label class="s-font" for="organization-global-id">
                        {{fieldsDescription.rec['CONTACT.MEDO_GLOBAL_ID']?.title}}
                    </label>
                    <div class="search-fld">
                        <input id="organization-global-id"
                            name="organization-global-id"
                            type="text"
                            class="form-control light"
                            [(ngModel)]="searchModel['CONTACT.MEDO_GLOBAL_ID']"
                            placeholder="..."
                            maxlength="{{fieldsDescription.rec['CONTACT.MEDO_GLOBAL_ID']?.length}}">
                        <a class="clear-btn"
                            [ngClass]="{'hide': !searchModel['CONTACT.MEDO_GLOBAL_ID']}"
                            (click)="searchModel['CONTACT.MEDO_GLOBAL_ID'] = ''"
                        >
                            <span class="eos-adm-icon eos-adm-icon-close-blue"></span>
                        </a>
                    </div>
                </div>
            </form>
        </div>

        <div *ngIf="currTab === 'protocol'" class="row">
            <ng-container *ngTemplateOutlet="protocol" ></ng-container>
        </div>
    </div>

    <!-- For правила СЭВ -->
    <div [hidden]="dictId !== 'sev-rules'"
        *ngIf="searchModel && dictId === 'sev-rules'"
        class="row full-search-form">
        <form id="sev-rules">
            <button [disabled]="noSearchData"
                type="submit"
                (click)="fullSearch()"
                class="hidden-submit">Найти</button>

                <div class="form-group unimportant-text">
                    <label class="s-font"
                        for="1">{{fieldsDescription.rec['CLASSIF_NAME']?.title}}</label>
                    <div class="search-fld">
                        <input id="1"
                            name="1"
                            type="text"
                            class="form-control light"
                            [(ngModel)]="searchModel['CLASSIF_NAME']"
                            placeholder="..."
                            maxlength="{{fieldsDescription.rec['CLASSIF_NAME']?.length}}">
                        <a class="clear-btn"
                            [ngClass]="{'hide': !searchModel['CLASSIF_NAME']}"
                            (click)="searchModel['CLASSIF_NAME'] = ''"><span class="eos-adm-icon eos-adm-icon-close-blue"></span></a>
                    </div>
                </div>
                <div style="display: flex;">
                    <div class="type-sev-left">
                        <span class="label-select-rec">Тип документа</span>
                        <div >
                            <eos-dynamic-input
                                [input]="inputsSelect['rec.type']"
                                [form]="formSelect"
                                [height]="200"
                                [readonly]="false">
                            </eos-dynamic-input>
                        </div>

                    </div>
                    <div class="type-sev-right">
                        <span class="label-select-rec">Вид правила</span>
                        <div > <!-- style="margin-top: -15px;" -->
                            <eos-dynamic-input
                            [input]="inputsSelect['rec.kind']"
                            [form]="formSelect"
                            [height]="200"
                            [readonly]="false">
                        </eos-dynamic-input>
                        </div>

                    </div>
                </div>

                <div class="form-group unimportant-text">
                    <label class="s-font"
                        for="region-name">Группа документов</label>
                    <div class="search-fld">
                        <input id="region-name"
                            onfocus="this.blur()"
                            readonly
                            name="region-name"
                            type="text"
                            class="form-control light"
                            [(ngModel)]="searchModel['DOCGROUP_NAME']"
                            placeholder="..."
                            maxlength="{{fieldsDescription.rec['DOCGROUP_NAME']?.length}}">
                            <span
                                class="action eos-adm-icon eos-adm-icon-directory-book-blue"
                                style="position: absolute; right: 5px; width: 24px; height: 24px; top: 4px;cursor:pointer;"
                                container="body"
                                placement="bottom"
                                containerClass="tooltip-info"
                                triggers="hover"
                                eosClickMode
                                tooltip="Выбрать" (click)="openDictDocgroup()"></span>
                        <a style="right: 30px;"
                            class="clear-btn"
                            [ngClass]="{'hide': !searchModel['DOCGROUP_NAME']}"
                            (click)="[searchModel['DOCGROUP_NAME'] = '', searchModel['DUE_DOCGROUP'] = '']"><span class="eos-adm-icon eos-adm-icon-close-blue"></span></a>
                    </div>
                </div>
        </form>
    </div>

    <!-- For sev-participant -->
    <div [hidden]="dictId !== 'sev-participant'"
        *ngIf="searchModel && dictId === 'sev-participant'"
        class="row full-search-form">
        <form id="sev-participant">
            <div class="search-field-sev">
                <span class="label-select-rec">Организация</span>
                <eos-dynamic-input
                    [input]="inputs['rec.CLASSIF_NAME']"
                    [form]="formSearch"
                    [height]="200"
                    [readonly]="false">
                </eos-dynamic-input>
            </div>
            <div class="form-group unimportant-text">
                <label class="s-font"
                    for="region-name">ИСПОЛЬЗУЕМЫЕ ПРАВИЛА</label>
                <div class="search-fld">
                    <input id="region-name"
                        onfocus="this.blur()"
                        readonly
                        name="region-name"
                        type="text"
                        class="form-control light"
                        [(ngModel)]="searchModel['rules_name']"
                        placeholder="...">
                    <span
                        class="action eos-adm-icon eos-adm-icon-directory-book-blue"
                        style="position: absolute; right: 5px; width: 24px; height: 24px; top: 4px;cursor:pointer;"
                        container="body"
                        placement="bottom"
                        containerClass="tooltip-info"
                        triggers="hover"
                        eosClickMode
                        tooltip="Выбрать" (click)="openDictSevPArtipant()">
                    </span>
                    <a style="right: 30px;"
                        class="clear-btn"
                        [ngClass]="{'hide': !searchModel['rules_name']}"
                        (click)="clearDictSev()"><span class="eos-adm-icon eos-adm-icon-close-blue"></span></a>
                </div>
            </div>
            <div class="search-field-sev">
                <span class="label-select-rec">Адрес</span>
                <eos-dynamic-input
                    [input]="inputs['rec.ADDRESS']"
                    [form]="formSearch"
                    [height]="200"
                    [readonly]="false">
                </eos-dynamic-input>
            </div>
            <div>
                <span class="label-select-rec">Канал передачи сообщений</span>
                <eos-dynamic-input
                    [input]="inputs['rec.ISN_CHANNEL']"
                    [form]="formSearch"
                    [height]="200"
                    [readonly]="false">
                </eos-dynamic-input>
            </div>
        </form>
    </div>

    <!-- For file-category -->
    <div [hidden]="dictId !== 'file-category'" *ngIf="searchModel && dictId === 'file-category'" class="row full-search-form">
        <form id="file-category">
            <div class="form-group unimportant-text">
                <label class="s-font"
                    for="desc">{{fieldsDescription.rec['NAME']?.title}}</label>
                <div class="search-fld">
                    <input id="file-category-name"
                        name="file-category-name"
                        type="text"
                        class="form-control light"
                        [(ngModel)]="searchModel['NAME']"
                        placeholder="..."
                        maxlength="{{fieldsDescription.rec['NAME']?.length}}">
                    <a class="clear-btn"
                        [ngClass]="{'hide': !searchModel['NAME']}"
                        (click)="searchModel['NAME']=''">
                        <span class="eos-icon eos-icon-close-blue"></span>
                    </a>
                </div>
            </div>

            <div class="form-group unimportant-text">
                <label class="s-font"
                    for="desc">{{fieldsDescription.rec['DOC_GROUP_NAMES']?.title}}</label>
                <div class="search-fld">
                    <input id="file-category-dg-names"
                        name="file-category-dg-names"
                        type="text"
                        class="form-control light"
                        [(ngModel)]="searchModel['DOC_GROUP_NAMES']"
                        placeholder="..."
                        maxlength="{{fieldsDescription.rec['DOC_GROUP_NAMES']?.length}}">
                    <a class="clear-btn"
                        [ngClass]="{'hide': !searchModel['DOC_GROUP_NAMES']}"
                        (click)="searchModel['DOC_GROUP_NAMES']=''">
                        <span class="eos-icon eos-icon-close-blue"></span>
                    </a>
                </div>
            </div>
            <div class="form-group unimportant-text">
                <label class="s-font"
                    for="desc">{{fieldsDescription.rec['NOTE']?.title}}</label>
                <div class="search-fld">
                    <input id="file-category-note"
                        name="file-category-note"
                        type="text"
                        class="form-control light"
                        [(ngModel)]="searchModel['NOTE']"
                        placeholder="..."
                        maxlength="{{fieldsDescription.rec['NOTE']?.length}}">
                    <a class="clear-btn"
                        [ngClass]="{'hide': !searchModel['NOTE']}"
                        (click)="searchModel['NOTE']=''">
                        <span class="eos-icon eos-icon-close-blue"></span>
                    </a>
                </div>
            </div>
        </form>
    </div>

</ng-template>

<ng-template #doprec>
    <!-- <eos-dictionary-srarch-dop-rec [formSearch]="formSearch" [inputs]="inputs" [arDescript]="arDescript"></eos-dictionary-srarch-dop-rec> -->
    <div class="dop-rec-wpapper" *ngIf="arDescript?.length">
        <div class="margin-r" *ngIf="formSelect">
            <span class="label-dop-rec unimportant-text">Дополнительный реквизит</span>
            <eos-dynamic-input
                class="descr-select no-margin"
                [input]="inputsSelect['rec.select']"
                [form]="formSelect"
                [height]="200"
                [readonly]="false">
            </eos-dynamic-input>
            <!-- <select class="descr-select" name="decr" (change)="chendeDescript($event)" [(ngModel)]="currentDescript">
                <option selected value="">...</option>
                <ng-container *ngFor="let op of arDescript">
                    <option [ngValue]="op">{{op['UI_NAME']}}</option>
                </ng-container>
            </select> -->
        </div>
        <div class="search-fld dop_rec" *ngIf="formSearch">
            <ng-container>
                <eos-dynamic-input *ngIf="arType?.AR_TYPE === 'text'" class="no-margin"
                    [input]="inputs['rec.text']" [form]="formSearch" [readonly]="false"
                ></eos-dynamic-input>
                <!-- <eos-dynamic-input *ngIf="arType?.AR_TYPE === 'decimal'" class="no-margin"
                    [input]="inputs['rec.decimal']" [form]="formSearch" [readonly]="false"></eos-dynamic-input> -->

                <eos-search-input-string *ngIf="arType?.AR_TYPE === 'decimal'" class="no-margin"
                    [input]="inputs['rec.decimal']" [form]="formSearch" [readonly]="false"
                ></eos-search-input-string>

                <eos-dynamic-input *ngIf="arType?.AR_TYPE === 'date'" class="no-margin date"
                    [input]="inputs['rec.date']" [form]="formSearch" [readonly]="false"
                ></eos-dynamic-input>

                <eos-dynamic-input *ngIf="arType?.AR_TYPE === 'flag'" class="no-margin"
                    [input]="inputs['rec.flag']" [form]="formSearch" [readonly]="false"
                ></eos-dynamic-input>
            </ng-container>
        </div>
    </div>
</ng-template>

<ng-template #protocol>
    <form class="form-protocol">
        <button [disabled]="noSearchData"
            type="submit"
            (click)="fullSearch()"
            class="hidden-submit"
        >Найти</button>

        <div class="calendar-wrapper unimportant-text">
            <eos-dynamic-input
                class="s-font"
                [input]="protocolSerchInputs['FROM']"
                [form]="protocolForm"
                [readonly]="false"
            ></eos-dynamic-input>

            <eos-dynamic-input
                class="s-font"
                [input]="protocolSerchInputs['TO']"
                [form]="protocolForm"
                [readonly]="false"
            ></eos-dynamic-input>
        </div>

        <eos-dynamic-input
            class="s-font param-line-wrapper unimportant-text"
            [input]="protocolSerchInputs['USER']"
            [form]="protocolForm"
            [readonly]="true"
            (onClickChoose)="showDepChoose()"
        ></eos-dynamic-input>

        <div class="form-group unimportant-text">
            <label class="s-font" for="operation">Операция</label>
            <div class="search-fld operation-field">
                <input #operation
                    id="operation"
                    name="operation"
                    type="text"
                    readonly
                    [(ngModel)]="selectedOperation.valueToInput"
                    class="form-control light operation-input"
                    placeholder="..."
                >
                <div class="input-button-wrapper">
                    <div
                        *ngIf="operation.value"
                        class="clear-btn clear-button input-button"
                        (click)="clearSelectOperation()"
                    >
                        <span class="eos-adm-icon eos-adm-icon-close-blue"></span>
                    </div>
                    <div
                        class="show-select-menu-button input-button"
                        [popover]="selectOperation"
                        containerClass="select-popover"
                        [placement]="bottom"
                        (click)="changeFlagSelectPopover()"
                    >
                        <span class="eos-adm-icon small"
                            [ngClass]="{
                                'eos-adm-icon-arrow-v-blue-bottom': !flagSelectPopover,
                                'eos-adm-icon-arrow-v-blue-top': flagSelectPopover
                                }"
                        ></span>
                    </div>
                </div>
            </div>
        </div>
    </form>
</ng-template>

<ng-template #selectOperation>
    <div
        class="operation-item"
        *ngFor="let operation of allOperation"
        id="operation.operDescribe"
        (click)="togleOperation(operation)"
    >
        <div class="wrapper-checkbox">
            <span
                class="eos-adm-icon small"
                [ngClass]="{
                    'eos-adm-icon-checkbox-blue': checkOperationIsSelected(operation.describtion)
                }"
            ></span>
        </div>
        <p class="title-operation">{{operation.describtion}}</p>
    </div>
</ng-template>
