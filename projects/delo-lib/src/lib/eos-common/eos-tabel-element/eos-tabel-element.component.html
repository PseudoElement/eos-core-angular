<div class="eos-adm-table">
    <!-- Хидер с кнопками и счётчиком выделенного -->
    <div *ngIf="title" class="eos-adm-table-title">
        <span>{{title}}</span>
    </div>
    <div class="btn-table">
        <div style="flex: 1; position: relative;">
            <button
                *ngFor="let button of buttons"
                class="btn"
                [tooltip]="button.tooltip"
                placement="bottom"
                [disabled]="getDisabledBtn(button)"
                triggers="hover:focus"
                container="body"
                containerClass="tooltip-info"
                (click)="clickToButton(button)"
                [ngClass]="{'active-background': button.active && !getDisabledBtn(button)}">
                <span class="eos-adm-icon small get" [ngClass]="checkBtnIcons(button)"></span>
            </button>
        </div>
        <div *ngIf="!settings?.count" class="counter-table">
            <span>Выбрано</span>
            <span class="counter">{{countSelected}}</span>
        </div>
        <div *ngIf="settings?.count" class="counter-table">
            <span>Записей</span>
            <span class="counter">{{tabelData.data.length}}</span>
        </div>
    </div>

    <!-- название столбцов -->
    <div class="all-table">
        <div *ngIf="getColomsFixed().length" class="header-table-param fixed-coloms" style="margin-right: -20px; position: relative;">
            <div *ngFor="let col of getColomsFixed()"
                class="header-table-title"
                [ngStyle]="getStyle(col)"
                [ngClass]="[edit ? '' : 'disable-header-table-title']"
                (click)="orderByField(col)">
                <span class="text table-hidder"
                    [tooltip]="col.title"
                    placement="bottom"
                    container="body"
                    containerClass="tooltip-info">
                    {{col.title}}
                </span>
                <div >
                    <span *ngIf="col.order" class="order-icon">
                        <span class="icon eos-adm-icon small"
                        [ngClass]="getBtnOrder(col)">
                        </span>
                    </span>
                </div>
            </div>
            <div style="position: absolute; height: 100%; width: 5px; z-index: 1; right: 21px; box-shadow: 6px -3px 4px 3px rgba(34, 60, 80, 0.2);">
            </div>
        </div>
        <div class="header-table-param get-colomn-border" #headerTable style="overflow: inherit; position: relative;" [ngClass]="getClassHidden()">
            <div *ngIf="showCheckBox" style="padding: 12px 0 0 16px;" class="checkbox-inline">
                <label class="checkbox" >
                    <input [checked]="getAllCheck()" [disabled]="!edit" type="checkbox" (change)="toggleAllMarks($event)">
                    <div>
                        <span class="eos-adm-icon small" [ngClass]="getflagChecked()"></span>
                    </div>
                </label>
            </div>
            <div *ngFor="let col of getColomsNotFixed()"
                class="header-table-title"
                [ngStyle]="getStyle(col)"
                [ngClass]="[edit ? '' : 'disable-header-table-title']"
                (click)="orderByField(col)">
                <span class="text table-hidder"
                    [tooltip]="col.title"
                    placement="bottom"
                    container="body"
                    containerClass="tooltip-info">
                    {{col.title}}
                </span>
                <div >
                    <span *ngIf="col.order" class="order-icon">
                        <span class="icon eos-adm-icon small"
                        [ngClass]="getBtnOrder(col)">
                        </span>
                    </span>
                </div>
            </div>
        </div>
            <!-- Переданные элементы -->
            <div style="display: flex;">
                <!-- Фиксированные колонки -->
                <div *ngIf="getColomsFixed().length" style="position: relative;">
                    <div style="position: absolute; height: 100%; width: 5px; z-index: 1; right: 1px; box-shadow: 6px 3px 4px 3px rgba(34, 60, 80, 0.2);">
                    </div>
                    <div
                        #fixetColoms
                        style="overflow: clip auto;"
                        class="fixed-coloms-body"
                        (scroll)="scrollFixed($event)"
                        [ngStyle]="{'max-height': settings && settings['maxHeightTable'] ? settings['maxHeightTable'] : ''}" style="margin-right: -20px;">
                        <div class="display-element-item"  *ngFor="let row of tabelData.data" [ngClass]="getClassRow(row)" style="margin-right: -17px; padding-right: 17px;">
                            <div (click)="clickElem(row)" #trFP *ngFor="let colomn of getColomsFixed()"
                                class="header-table-title colomn-style-td"
                                style="white-space: nowrap; overflow: hidden; text-overflow: ellipsis"
                                [ngStyle]="getStyleTd(colomn)">
                                <ng-container [ngSwitch]="getType(colomn, row)">
                                    <ng-container *ngSwitchCase="types.icon">
                                        <div style="height: 24px; line-height: 0;">
                                            <span *ngFor="let icon of getElement(colomn, row).info"
                                                class="eos-adm-icon small "
                                                [ngClass]="icon"
                                            ></span>
                                        </div>
                                    </ng-container>
                                    <ng-container *ngSwitchCase="types.checkbox">
                                        <div style="height: 24px; padding-left: 0px;" class="checkbox-inline" >
                                            <label>
                                                <input type="checkbox" [disabled]="getElement(colomn, row).info['disabled'] || !edit" (change)="getElement(colomn, row).info['click']()" [checked]="getElement(colomn, row).info['check']">
                                                <span></span>
                                            </label>
                                        </div>
                                    </ng-container>
                                    <ng-container *ngSwitchCase="types.radio">
                                        <ng-container *ngTemplateOutlet="span; context: {node: node}"></ng-container>
                                    </ng-container>
                                    <ng-container *ngSwitchDefault>
                                        <span
                                            #trF
                                            class="text table-hidder"
                                            [tooltip]="tootipShow(trF, trFP, getElement(colomn, row))"
                                            placement="bottom"
                                            containerClass="tooltip-info"
                                            container="body"
                                            triggers="hover">
                                            {{getElement(colomn, row)}}
                                        </span>
                                    </ng-container>
                                </ng-container>
                            </div>
                        </div>
                        <div *ngIf="isLoading" [ngStyle]="scrollbarHeight(colomn)">
                        </div>
                    </div>
                </div>
                <div
                    #notFixetColoms
                    class="eos-rows-table"
                    (scroll)="onListScroll($event)"
                    style="max-width: 100%; overflow: auto; width: 100%; position: relative; min-height: 200px;"
                    [ngStyle]="{'max-height': settings && settings['maxHeightTable'] ? settings['maxHeightTable'] : ''}">
                    <div
                        class="display-element-item not-fixed-row-body"
                        *ngFor="let row of tabelData.data"
                        [ngClass]="getClassRow(row)"
                        (dblclick)="dbClickToRow(row)"
                        [ngStyle]="getTableStyle()">
                        <div *ngIf="showCheckBox" style="padding: 8px 0 0 16px;" class="checkbox-inline">
                            <label>
                                <input type="checkbox" [disabled]="!edit" (change)="selected($event, row)" [checked]="row.check">
                                <span></span>
                            </label>
                        </div>
                        <div (click)="clickElem(row)" #trNFP *ngFor="let colomn of getColomsNotFixed()"
                            class="header-table-title colomn-style-td"
                            style="white-space: nowrap; overflow: hidden; text-overflow: ellipsis"
                            [ngStyle]="getStyleTd(colomn)">
                            <ng-container [ngSwitch]="getType(colomn, row)">
                                <ng-container *ngSwitchCase="types.icon">
                                    <div style="height: 24px; line-height: 0;">
                                        <span *ngFor="let icon of getElement(colomn, row).info"
                                            class="eos-adm-icon small "
                                            [ngClass]="icon"
                                        ></span>
                                    </div>
                                </ng-container>
                                <ng-container *ngSwitchCase="types.checkbox">
                                    <div style="height: 24px; margin-top: -8px; padding-left: 0;" class="checkbox-inline">
                                        <label>
                                            <input type="checkbox" [disabled]="getElement(colomn, row).info['disabled'] || !edit" (change)="getElement(colomn, row).info['click']()" [checked]="getElement(colomn, row).info['check']">
                                            <span></span>
                                        </label>
                                    </div>
                                </ng-container>
                                <ng-container *ngSwitchCase="types.radio">
                                    <ng-container *ngTemplateOutlet="span; context: {node: node}"></ng-container>
                                </ng-container>
                                <ng-container *ngSwitchDefault>
                                    <span
                                        #trNF
                                        class="text table-hidder"
                                        [tooltip]="tootipShow(trNF, trNFP, getElement(colomn, row)) || ''"
                                        placement="bottom"
                                        containerClass="tooltip-info"
                                        container="body"
                                        triggers="hover">
                                        {{getElement(colomn, row)}}
                                    </span>
                                </ng-container>
                            </ng-container>
                        </div>
                    </div>
            </div>
        </div>
    </div>
</div>
